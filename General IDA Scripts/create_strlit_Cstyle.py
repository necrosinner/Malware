import idc
import idaapi
import ida_kernwin
import ida_bytes

def convert_cstyle_strings():
    # Get the current cursor position
    start = ida_kernwin.get_screen_ea()
    cursor = start
    length = 1
    while True:
        while (ida_bytes.get_byte(cursor) != 0x00):
            cursor += 1
            length += 1
        print(length)
        #Printable characters
        if (ida_bytes.get_byte(start) >= 0x20 and ida_bytes.get_byte(start) <= 0x7E):
            print(ida_bytes.get_byte(start))
            ida_bytes.create_strlit(start,length,ida_nalt.STRTYPE_C)
            start += length
            length = 1
            cursor += 1
        else:
            print("end")
            break
        
        
        



convert_cstyle_strings()
